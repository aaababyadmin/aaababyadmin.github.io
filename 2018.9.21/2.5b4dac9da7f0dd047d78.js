webpackJsonp([2],{1672:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function l(e){return{mainapp:e.mainapp,managebuytoken:e.managebuytoken,eoslivedata:e.eoslivedata,salereport:e.salereport}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(26),u=n(o),r=a(1),d=n(r),i=a(6),c=n(i),s=a(2),m=n(s),f=a(3),p=n(f),y=a(0),g=n(y),b=a(5),k=(n(b),a(34)),h=a(21),E=a(20),v=n(E),_=a(177),x=a(1698),S=a(90),A=function(e){function t(){var e,a,n,l;(0,d.default)(this,t);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return a=n=(0,m.default)(this,(e=t.__proto__||(0,u.default)(t)).call.apply(e,[this].concat(r))),n.loadbuylist=function(){var e=n.props,t=e.mainapp,a=e.dispatch,l=t.eosAccount;a(l==S.contractname||S.adminname.includes(l)?{type:"managebuytoken/query",payload:{}}:h.routerRedux.push({pathname:"/mywallettools/error403"}))},l=a,(0,m.default)(n,l)}return(0,p.default)(t,e),(0,c.default)(t,[{key:"componentWillMount",value:function(){this.props.dispatch({type:"managebuytoken/setdata",payload:{}}),this.loadbuylist()}},{key:"componentWillUnMount",value:function(){this.props.dispatch({type:"managebuytoken/setdata",payload:{}})}},{key:"render",value:function(){var e=this.props,t=e.mainapp,a=e.salereport,n=e.dispatch,l=e.managebuytoken,o=e.eoslivedata,u=a.currentitem,r=l.myitems,d=l.buyloading,i=l.loading,c=l.tabflag,s=l.selecteditem,m=l.templive;console.log("eoslivedata:",o);var f=o.eospricecny,p=o.eospriceusd,y={dispatch:n,mainapp:t,eospricecny:f,eospriceusd:p,myitems:r,buyloading:d,loading:i,loadbuylist:this.loadbuylist},b={dispatch:n,mainapp:t,eospricecny:f,eospriceusd:p,selecteditem:s,templive:m,buyloading:d,loading:i,loadbuylist:this.loadbuylist};return g.default.createElement(_.MyWalletToolsPageHeaderLayout,{title:v.default.get("comm.managebuytoken"),content:u.length>0?g.default.createElement(_.SaleReportbox,{currentitem:u,showflag:"text"}):""},c&&"list"==c?g.default.createElement(x.Buytokenall,y):g.default.createElement(x.Buytokenconfirm,b))}}]),t}(y.PureComponent);t.default=(0,k.connect)(l)(A),e.exports=t.default},1681:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getScatterEosClient=void 0;var n=a(333),l=function(e){return e&&e.__esModule?e:{default:e}}(n);t.getScatterEosClient=function(e,t){var a={protocol:t.endpoint.protocol,blockchain:t.network.network,host:t.endpoint.url,port:t.endpoint.port,chainId:t.network.chainId},n={broadcast:!0,sign:!0,chainId:t.network.chainId},o=t.endpoint.protocol;return e.eos(a,l.default,n,o)}},1682:function(e,t,a){"use strict";a(17),a(1683)},1683:function(e,t){},1684:function(e,t){e.exports={TableItems:"TableItems___UaZP7",headerList:"headerList___3VsQG",tabsCard:"tabsCard___3qhpq",noData:"noData___1kyJP",heading:"heading___2XS1J",stepDescription:"stepDescription___aele4",textSecondary:"textSecondary___3Q6KL"}},1698:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Buytokenall=t.Buytokenconfirm=void 0;var l=a(1699),o=n(l),u=a(1700),r=n(u);t.Buytokenconfirm=o.default,t.Buytokenall=r.default},1699:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=a(82),o=n(l),u=a(46),r=n(u),d=a(716),i=n(d),c=a(11),s=n(c),m=a(334),f=n(m),p=a(4),y=n(p),g=a(331),b=n(g),k=a(26),h=n(k),E=a(1),v=n(E),_=a(6),x=n(_),S=a(2),A=n(S),F=a(3),O=n(F),q=a(112),N=n(q),w=a(113),I=n(w),C=a(332),M=n(C);a(89),a(70),a(1682),a(33),a(717),a(228),a(138),a(715);var B=a(0),L=n(B),T=a(5),P=(n(T),a(21),a(20)),V=n(P),D=a(330),H=a(1681),j=a(90),Y=a(1684),J=(n(Y),M.default.Item),W=(I.default.TextArea,N.default.Option,function(e){function t(){var e,a,n,l;(0,v.default)(this,t);for(var o=arguments.length,u=Array(o),r=0;r<o;r++)u[r]=arguments[r];return a=n=(0,A.default)(this,(e=t.__proto__||(0,h.default)(t)).call.apply(e,[this].concat(u))),n.formLayout={labelCol:{span:7},wrapperCol:{span:13}},n.TransferEosAction=function(e){var t=n.props,a=t.mainapp,l=t.dispatch,o=t.loadbuylist,u=t.selecteditem,r=a.scatter,d=a.activeNetwork,i=a.eosAccount,c=a.eosAuthority,s=(0,H.getScatterEosClient)(r,d),m={authorization:[i+"@"+c]};l({type:"managebuytoken/updatedata",payload:{buyloading:!0}}),s.contract(j.contractname).then(function(t){t.prebuymanage({from:i,to:e.toname,quantity:Number(e.quantity).toFixed(4).toString()+" EOS",tokensbyeos:e.tokensbyeos,pkey:u.pkey},m).then(function(e){l({type:"managebuytoken/updatedata",payload:{selecteditem:"",buyloading:!1,tabflag:"list"}}),o(),(0,D.msgSuccess)(e.transaction_id)},function(e){l({type:"managebuytoken/updatedata",payload:{selecteditem:"",buyloading:!1,tabflag:"list"}}),(0,D.msgError)((0,b.default)(e))})})},n.OnHandleBack=function(){n.props.dispatch({type:"managebuytoken/updatedata",payload:{selecteditem:"",tabflag:"list"}})},n.OnHandleChangepaideos=function(){var e=n.props,t=(e.mainapp,e.form),a=(e.dispatch,e.selecteditem,Number(t.getFieldValue("prepayeos").replace(" EOS","")).toFixed(4)),l=Number(t.getFieldValue("quantity")).toFixed(4);if(!(l>a)){var o=Number(t.getFieldValue("tokensbyeos")),u=Number(a-l).toFixed(4),r=Number(l*o).toFixed(4),d=Number(r/2).toFixed(4),i={returneos:u.toString()+" EOS",sendtokens:r.toString()+" AAAB",rewardtokens:d.toString()+" AAAB"};n.props.dispatch({type:"managebuytoken/updatedata",payload:{templive:i}})}},n.OnHandleSave=function(){var e=n.props,t=e.mainapp,a=e.form,l=(e.dispatch,e.selecteditem),o=(t.scatter,t.activeNetwork,t.eosAccount);t.eosAuthority;a.validateFields(function(e,a){if(!e){if(!t||!t.eosAccount)return void(0,D.msgError)("\u4f60\u7684eos\u8d26\u53f7\u8fd8\u6ca1\u6709\u767b\u5f55");if(""==o)return void(0,D.msgError)("\u4f60\u7684eos\u8d26\u53f7\u8fd8\u6ca1\u6709\u767b\u5f55");if(o!=j.contractname&&!j.adminname.includes(o))return void(0,D.msgError)(o+" \u4f60\u7684eos\u8d26\u53f7\u6ca1\u6709\u6743\u9650\u64cd\u4f5c");if(console.log("selecteditem:",l),!l)return void(0,D.msgError)("\u4f60\u6ca1\u6709\u9009\u62e9\u6b63\u786e\u7684\u9884\u8d2d\u8ba2\u5355");console.log("values:",a);var u=(0,y.default)({},a),r=Number(l.prepayeos.replace(" EOS","")).toFixed(4),d=Number(u.quantity).toFixed(4);if(console.log("tmpquantity:",d),console.log("tmpprepayeos:",r),Number(d)>Number(r))return void(0,D.msgError)("\u5b9e\u4ed8\u4e0d\u80fd\u8d85\u8fc7\u9884\u4ed8");var i=Number(u.tokensbyeos),c=Number(r-d).toFixed(4),s=Number(d*i).toFixed(4),m=Number(s/2).toFixed(4),p=L.default.createElement("div",null,L.default.createElement("p",null,L.default.createElement("b",null,V.default.get("comm.buytokenconfirm"))),L.default.createElement("p",null,V.default.get("comm.fromname"),": ",j.contractname),L.default.createElement("p",null,V.default.get("comm.toname"),":  ",u.toname),L.default.createElement("p",null,V.default.get("comm.prepayeos"),":  ",l.prepayeos),L.default.createElement("p",null,V.default.get("comm.paideos"),": ",Number(u.quantity).toFixed(4).toString()+" EOS"),L.default.createElement("p",null,V.default.get("comm.tokensbyeos"),": ",u.tokensbyeos),L.default.createElement("p",null,V.default.get("comm.returneos"),": ",c.toString()+" EOS"),L.default.createElement("p",null,V.default.get("comm.sendtokens"),": ",s.toString()+" AAAB"),L.default.createElement("p",null,V.default.get("comm.rewardtokens"),": ",m.toString()+" AAAB"));f.default.confirm({title:V.default.get("comm.actionyesno"),content:p,okText:V.default.get("comm.ok"),cancelText:V.default.get("comm.cancel"),onOk:function(){return n.TransferEosAction(u)}})}})},l=a,(0,A.default)(n,l)}return(0,O.default)(t,e),(0,x.default)(t,[{key:"render",value:function(){var e=this.props,t=(e.dispatch,e.mainapp,e.eospricecny),a=(e.eospriceusd,e.selecteditem),n=(e.templive,e.buyloading),l=e.form,u=l.getFieldDecorator,d=(l.getFieldValue,Number(a.prepayeos.replace(" EOS","")).toFixed(4));return L.default.createElement(o.default,{title:L.default.createElement("div",null,L.default.createElement(s.default,{type:"plus-circle-o"})," ",V.default.get("comm.buytokenconfirm"))},L.default.createElement(M.default,{style:{marginTop:8}},L.default.createElement(J,(0,y.default)({key:"fromname",label:V.default.get("comm.fromname"),hasFeedback:!0},this.formLayout),u("fromname",{initialValue:j.contractname,rules:[{required:!0,message:V.default.get("comm.required")}]})(L.default.createElement(I.default,{disabled:!0}))),L.default.createElement(J,(0,y.default)({key:"toname",label:V.default.get("comm.toname"),hasFeedback:!0},this.formLayout),u("toname",{initialValue:a&&a.agenter,rules:[{required:!0,message:V.default.get("comm.required")}]})(L.default.createElement(I.default,{disabled:!0}))),L.default.createElement(J,(0,y.default)({key:"prepayeos",label:V.default.get("comm.prepayeos"),hasFeedback:!0},this.formLayout),u("prepayeos",{initialValue:a&&a.prepayeos,rules:[{required:!0,message:V.default.get("comm.required")}]})(L.default.createElement(I.default,{disabled:!0}))),L.default.createElement(J,(0,y.default)({key:"quantity",label:V.default.get("comm.paideos")},this.formLayout),u("quantity",{initialValue:1,rules:[{type:"number",min:1,max:d,required:!0,message:V.default.get("comm.required")}]})(L.default.createElement(i.default,{style:{width:250}}))," EOS"),L.default.createElement(J,(0,y.default)({key:"tokensbyeos",label:V.default.get("comm.tokensbyeos"),hasFeedback:!0},this.formLayout),u("tokensbyeos",{initialValue:t&&10*Number(t).toFixed(0),rules:[{required:!0,message:V.default.get("comm.required")}]})(L.default.createElement(I.default,{disabled:!0}))),L.default.createElement(J,(0,y.default)({},this.formLayout,{style:{marginTop:32}}),a&&0==a.status?L.default.createElement(r.default,{type:"primary",onClick:this.OnHandleSave,loading:n},V.default.get("comm.ok")):"",L.default.createElement(r.default,{onClick:this.OnHandleBack,loading:n},V.default.get("comm.back")))))}}]),t}(B.PureComponent));t.default=M.default.create()(W),e.exports=t.default},1700:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=a(82),o=n(l),u=a(229),r=n(u),d=a(11),i=n(d),c=a(46),s=n(c),m=a(92),f=n(m),p=a(26),y=n(p),g=a(1),b=n(g),k=a(6),h=n(k),E=a(2),v=n(E),_=a(3),x=n(_),S=a(112),A=n(S),F=a(113),O=n(F),q=a(332),N=n(q);a(89),a(337),a(33),a(70),a(141),a(228),a(138),a(715);var w=a(0),I=n(w),C=a(5),M=(n(C),a(21),a(20)),B=n(M),L=a(7),T=n(L),P=(a(330),a(1681),a(90),a(1684)),V=n(P),D=(N.default.Item,O.default.TextArea,A.default.Option,function(e){function t(){var e,a,n,l;(0,b.default)(this,t);for(var o=arguments.length,u=Array(o),r=0;r<o;r++)u[r]=arguments[r];return a=n=(0,v.default)(this,(e=t.__proto__||(0,y.default)(t)).call.apply(e,[this].concat(u))),n.formLayout={labelCol:{span:7},wrapperCol:{span:13}},n.Ononeactionfun=function(e,t){"dowith"===e&&n.props.dispatch({type:"managebuytoken/updatedata",payload:{selecteditem:t,tabflag:"buytoken"}})},l=a,(0,v.default)(n,l)}return(0,x.default)(t,e),(0,h.default)(t,[{key:"render",value:function(){var e=this,t=this.props,a=(t.dispatch,t.mainapp,t.myitems),n=t.loading,l=(t.form.getFieldDecorator,[{title:B.default.get("comm.steps"),dataIndex:"mysteps",render:function(e,t){return I.default.createElement("span",null,I.default.createElement(f.default,{color:"blue"},e))}},{title:B.default.get("comm.agent"),dataIndex:"agenter",render:function(e,t){return I.default.createElement("span",null,e)}},{title:B.default.get("comm.prepayeos"),dataIndex:"prepayeos",render:function(e,t){return I.default.createElement("span",null,e)}},{title:B.default.get("comm.paideos"),dataIndex:"paideos",render:function(e,t){return I.default.createElement("span",null,e)}},{title:B.default.get("comm.returneos"),dataIndex:"returneos",render:function(e,t){return I.default.createElement("span",null,e)}},{title:B.default.get("comm.sendtokens"),dataIndex:"sendtokens",render:function(e,t){return I.default.createElement("span",null,I.default.createElement(f.default,{color:"blue"},e))}},{title:B.default.get("comm.rewardtokens"),dataIndex:"rewardtokens",render:function(e,t){return I.default.createElement("span",null,I.default.createElement(f.default,{color:"blue"},e))}},{title:B.default.get("comm.transdate"),dataIndex:"transdate",render:function(e,t){return I.default.createElement("span",null,T.default.unix(e).format("YYYY-MM-DD HH:mm"))}},{title:B.default.get("comm.status"),render:function(t,a){return I.default.createElement("span",null,1==a.status?I.default.createElement(f.default,{color:"blue"},B.default.get("comm.prebuydone")):I.default.createElement(s.default,{onClick:function(){return e.Ononeactionfun("dowith",a)}},B.default.get("comm.buytokenconfirm")))}}]);return I.default.createElement(o.default,{title:I.default.createElement("div",null,I.default.createElement(i.default,{type:"plus-circle-o"}),B.default.get("comm.buytokenall"))},I.default.createElement("div",{className:V.default.TableItems},I.default.createElement(r.default,{rowKey:function(e){return e.pkey},loading:n,pagination:!1,scroll:{x:967},columns:l,dataSource:a})))}}]),t}(w.PureComponent));t.default=N.default.create()(D),e.exports=t.default}});